{
  "id": "com.gruijter.magister",
  "name": {
      "en": "Magister for Homey",
      "nl": "Magister voor Homey"
  },
  "description": {
    "en": "school information from Magister 6",
    "nl": "School informatie van Magister 6"
  },
  "version": "1.0.1",
  "compatibility": ">= 1.x",
  "author": {
      "name": "Gruijter",
      "email": "gruijter@hotmail.com"
  },
  "images": {
    "large": "./assets/images/large.jpg",
    "small": "./assets/images/small.jpg"
  },
  "category": ["tools","internet"],
  "drivers": [
    {
      "id": "student",
      "name": {
        "en": "Student",
        "nl": "Scholier"
      },
      "pair": [
        {
        "id": "pair"
        }
      ],
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "Magister student information",
            "nl": "Magister student informatie"
          },
          "children": [
            {
              "id": "studentName",
              "type": "label",
              "label": {
                "en": "Studentname",
                "nl": "Studentnaam"
              },
              "value": "student"
            },
            {
              "id": "period",
              "type": "label",
              "label": {
                "en": "Schoolperiod",
                "nl": "Schooljaar"
              },
              "value": "schooljaar"
            },
            {
              "id": "type_group",
              "type": "label",
              "label": {
                "en": "Education type and group",
                "nl": "Schooltype en klas"
              },
              "value": "type en groep"
            },
            {
              "id": "totalAverageGrade",
              "type": "label",
              "label": {
                "en": "Total grade average",
                "nl": "Cijfergemiddelde"
              },
              "value": "0"
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Magister 6 settings",
            "nl": "Magister 6 instellingen"
          },
          "children": [
            {
              "id": "school",
              "type": "text",
              "label": {
                "en": "School",
                "nl": "School"
              },
              "value": "school"
            },
            {
              "id": "username",
              "type": "text",
              "label": {
                "en": "Username",
                "nl": "Gebruikersnaam"
              },
              "value": "gebruikersnaam"
            },
            {
              "id": "password",
              "type": "password",
              "label": {
                "en": "Password",
                "nl": "Wachtwoord"
              },
              "value": "wachtwoord"
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Options",
            "nl": "Opties"
          },
          "children": [
            {
              "id": "notifyGradeChange",
              "type": "checkbox",
              "label": {
                "en": "Say new grades",
                "nl": "Zeg nieuwe cijfers"
              },
              "value": false
            },
            {
              "id": "notifyRosterChange",
              "type": "checkbox",
              "label": {
                "en": "Say roster changes",
                "nl": "Zeg rooster wijzigingen"
              },
              "value": false
            },
            {
              "id": "fetchAllGrades",
              "type": "checkbox",
              "label": {
                "en": "One time fetch all grades for insights",
                "nl": "Eenmalig alle cijfers ophalen voor insights"
              },
              "value": false
            }
          ]
        }
      ],
      "images": {
        "large": "./drivers/student/assets/images/large.jpg",
        "small": "./drivers/student/assets/images/small.jpg"
      },
      "class": "other",
      "capabilities": [ ]
    }
  ],
  "flow":	{
    "triggers":[
      {
        "id":"new_grade",
        "title": {
          "en":"There is a new grade",
          "nl":"Er is een nieuw cijfer"
        },
        "args": [
          {
            "name": "device_data",
            "type": "device",
            "filter": "driver_uri=homey:app:com.gruijter.magister&driver_id=student",
            "placeholder": {
              "en": "Which student",
              "nl": "Welke scholier"
             }
          }
        ],
        "tokens":[
          {
          "name":"name",
          "type": "string",
          "title": {
            "en":"name",
            "nl":"naam"
            },
          "example": "naam"
          },
          {
          "name":"class",
          "type": "string",
          "title": {
            "en":"class",
            "nl":"vak"
            },
          "example": "vak"
          },
          {
          "name":"description",
          "type": "string",
          "title": {
            "en":"description",
            "nl":"omschrijving"
            },
          "example": "omschrijving"
          },
          {
          "name":"weight",
          "type": "number",
          "title": {
            "en":"weight",
            "nl":"gewicht"
            },
          "example": 1
          },
          {
          "name":"grade",
          "type": "string",
          "title": {
            "en":"grade",
            "nl":"cijfer"
            },
          "example": "7.2"
          }
        ]
      },
      {
        "id":"roster_changed_today",
        "title": {
          "en":"Todays roster has changed",
          "nl":"Rooster vandaag is gewijzigd"
        },
        "args": [
          {
            "name": "student",
            "type": "device",
            "filter": "driver_uri=homey:app:com.gruijter.magister&driver_id=student",
            "placeholder": {
              "en": "Which student",
              "nl": "Welke scholier"
             }
          }
        ],
        "tokens":[
          {
          "name":"name",
          "type": "string",
          "title": {
            "en":"name",
            "nl":"naam"
            },
          "example": "naam"
          },
          {
          "name":"beginHour",
          "type": "number",
          "title": {
            "en":"1st hr",
            "nl":"1e uur"
            },
          "example": 1
          },
          {
          "name":"beginTime",
          "type": "string",
          "title": {
            "en":"starttime",
            "nl":"starttijd"
            },
          "example": "08:30"
          },
          {
          "name":"endHour",
          "type": "number",
          "title": {
            "en":"last hr",
            "nl":"laatste uur"
            },
          "example": 7
          },
          {
          "name":"endTime",
          "type": "string",
          "title": {
            "en":"endtime",
            "nl":"eindtijd"
          },
          "example": "15:30"
          }
        ]
      },
      {
        "id":"roster_changed_tomorrow",
        "title": {
          "en":"Tomorrows roster has changed",
          "nl":"Rooster morgen is gewijzigd"
        },
        "args": [
          {
            "name": "student",
            "type": "device",
            "filter": "driver_uri=homey:app:com.gruijter.magister&driver_id=student",
            "placeholder": {
              "en": "Which student",
              "nl": "Welke scholier"
             }
          }
        ],
        "tokens":[
          {
          "name":"name",
          "type": "string",
          "title": {
            "en":"name",
            "nl":"naam"
            },
          "example": "naam"
          },
          {
          "name":"beginHour",
          "type": "number",
          "title": {
            "en":"1st hr",
            "nl":"1e uur"
            },
          "example": 1
          },
          {
          "name":"beginTime",
          "type": "string",
          "title": {
            "en":"starttime",
            "nl":"starttijd"
            },
          "example": "08:30"
          },
          {
          "name":"endHour",
          "type": "number",
          "title": {
            "en":"last hr",
            "nl":"laatste uur"
            },
          "example": 7
          },
          {
          "name":"endTime",
          "type": "string",
          "title": {
            "en":"endtime",
            "nl":"eindtijd"
          },
          "example": "15:30"
          }
        ]
      }
    ],
    "actions": [
      {
        "id": "sayRoster",
        "title": {
          "en": "Say roster of",
          "nl": "Zeg het rooster van"
        },
        "args": [
          {
            "name": "device_data",
            "type": "device",
            "filter": "driver_uri=homey:app:com.gruijter.magister&driver_id=student",
            "placeholder": {
              "en": "Which student",
              "nl": "Welke scholier"
             }
          },
          {
            "name": "when",
            "type": "dropdown",
            "values": [
              {
                "id": "today",
                "label": {
                  "en": "today",
                  "nl": "vandaag"
                }
              },
              {
                "id": "tomorrow",
                "label": {
                  "en": "tomorrow",
                  "nl": "morgen"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "sayHomework",
        "title": {
          "en": "Say homework of",
          "nl": "Zeg het huiswerk van"
        },
        "args": [
          {
            "name": "device_data",
            "type": "device",
            "filter": "driver_uri=homey:app:com.gruijter.magister&driver_id=student",
            "placeholder": {
              "en": "Which student",
              "nl": "Welke scholier"
             }
          },
          {
            "name": "when",
            "type": "dropdown",
            "values": [
              {
                "id": "today",
                "label": {
                  "en": "today",
                  "nl": "vandaag"
                }
              },
              {
                "id": "tomorrow",
                "label": {
                  "en": "tomorrow",
                  "nl": "morgen"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "sayGrades",
        "title": {
          "en": "Say new grades of",
          "nl": "Zeg de nieuwe cijfers van"
        },
        "args": [
          {
            "name": "device_data",
            "type": "device",
            "filter": "driver_uri=homey:app:com.gruijter.magister&driver_id=student",
            "placeholder": {
              "en": "Which student",
              "nl": "Welke scholier"
             }
          },
          {
            "name": "when",
            "type": "dropdown",
            "values": [
              {
                "id": "today",
                "label": {
                  "en": "today",
                  "nl": "vandaag"
                }
              },
              {
                "id": "week",
                "label": {
                  "en": "last 7 days",
                  "nl": "afgelopen 7 dagen"
                }
              }
            ]
          }
        ]
      }
    ]
  },
  "permissions": [
    "homey:manager:speech-output"
  ]
}
